!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),s=n(3);t.default=class extends s.default{constructor(e){super(e)}getRootElement(){return super.getRootElement()}beforeMount(){this.props.tagName&&(this.tagName=this.props.tagName)}afterMount(){const e=this.props.events||{},t=this.props.attributes||{};Object.keys(t).map(e=>{this.bindAttributeToProp(e,t[e])}),Object.keys(e).map(t=>{this.bindEventToProp(t,e[t])}),this.props.innerHTML&&this.subscribe(this.props.innerHTML,e=>{const t=this.rootElement.cloneNode(!1);t.innerHTML=e,o(this.rootElement,t)})}bindAttributeToProp(e,t){this.subscribe(t,t=>{this.rootElement.setAttribute(e,t)})}bindInnerHtmlToProp(e){this.subscribe(e,e=>{this.rootElement.innerHTML=e})}bindEventToProp(e,t){const n="function"==typeof t?t:e=>{t.next(e)};this.document.addEventListener(this.rootElement,e,n,!1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=function(e){return e&&"function"==typeof e.subscribe},t.isComponent=function(e){return e&&!0===e.__neweb_component},t.nodesToMap=function(e){const t=[];for(const n of e)t.push(n);return t},t.getElementAttributes=function(e){const t={};for(let n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;return t},t.domNodeToJson=function e(t){const n={nodeType:t.nodeType},o=t;if(void 0!==o.tagName?n.tagName=o.tagName.toLowerCase():t.nodeName&&(n.nodeName=t.nodeName),t.nodeValue&&(n.nodeValue=t.nodeValue),o.attributes){n.attributes={};const e=o.attributes;if(e)for(let t=0;t<length;t++){const o=e[t];n.attributes[o.nodeName]=o.nodeValue}}const s=t.childNodes;if(s&&s.length>0){n.childNodes=[];const t=s.length;for(let o=0;o<t;o++)n.childNodes[o]=e(s[o])}return n}},function(e,t,n){"use strict";var o,s="http://www.w3.org/1999/xhtml",r="undefined"==typeof document?void 0:document,i=r?r.body||r.createElement("div"):{},u=i.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:i.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return null!=e.getAttributeNode(t,n)};function a(e,t){var n=e.nodeName,o=t.nodeName;return n===o||!!(t.actualize&&n.charCodeAt(0)<91&&o.charCodeAt(0)>90)&&n===o.toUpperCase()}function l(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}var c={OPTION:function(e,t){l(e,t,"selected")},INPUT:function(e,t){l(e,t,"checked"),l(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),u(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var o=e.firstChild;if(o){var s=o.nodeValue;if(s==n||!n&&s==e.placeholder)return;o.nodeValue=n}},SELECT:function(e,t){if(!u(t,null,"multiple")){for(var n=0,o=t.firstChild;o;){var s=o.nodeName;if(s&&"OPTION"===s.toUpperCase()){if(u(o,null,"selected")){n;break}n++}o=o.nextSibling}e.selectedIndex=n}}},d=1,m=3,h=8;function p(){}function f(e){return e.id}var b=function(e){return function(t,n,i){if(i||(i={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName){var u=n;(n=r.createElement("html")).innerHTML=u}else l=n,!o&&r.createRange&&(o=r.createRange()).selectNode(r.body),o&&o.createContextualFragment?b=o.createContextualFragment(l):(b=r.createElement("body")).innerHTML=l,n=b.childNodes[0];var l,b,v,E=i.getNodeKey||f,g=i.onBeforeNodeAdded||p,N=i.onNodeAdded||p,y=i.onBeforeElUpdated||p,A=i.onElUpdated||p,T=i.onBeforeNodeDiscarded||p,M=i.onNodeDiscarded||p,C=i.onBeforeElChildrenUpdated||p,_=!0===i.childrenOnly,x={};function w(e){v?v.push(e):v=[e]}function O(e,t,n){!1!==T(e)&&(t&&t.removeChild(e),M(e),function e(t,n){if(t.nodeType===d)for(var o=t.firstChild;o;){var s=void 0;n&&(s=E(o))?w(s):(M(o),o.firstChild&&e(o,n)),o=o.nextSibling}}(e,n))}function S(e){N(e);for(var t=e.firstChild;t;){var n=t.nextSibling,o=E(t);if(o){var s=x[o];s&&a(t,s)&&(t.parentNode.replaceChild(s,t),L(s,t))}S(t),t=n}}function L(o,s,i){var u,l=E(s);if(l&&delete x[l],!n.isSameNode||!n.isSameNode(t)){if(!i){if(!1===y(o,s))return;if(e(o,s),A(o),!1===C(o,s))return}if("TEXTAREA"!==o.nodeName){var p,f,b,v,N=s.firstChild,T=o.firstChild;e:for(;N;){for(b=N.nextSibling,p=E(N);T;){if(f=T.nextSibling,N.isSameNode&&N.isSameNode(T)){N=b,T=f;continue e}u=E(T);var M=T.nodeType,_=void 0;if(M===N.nodeType&&(M===d?(p?p!==u&&((v=x[p])?T.nextSibling===v?_=!1:(o.insertBefore(v,T),f=T.nextSibling,u?w(u):O(T,o,!0),T=v):_=!1):u&&(_=!1),(_=!1!==_&&a(T,N))&&L(T,N)):M!==m&&M!=h||(_=!0,T.nodeValue!==N.nodeValue&&(T.nodeValue=N.nodeValue))),_){N=b,T=f;continue e}u?w(u):O(T,o,!0),T=f}if(p&&(v=x[p])&&a(v,N))o.appendChild(v),L(v,N);else{var R=g(N);!1!==R&&(R&&(N=R),N.actualize&&(N=N.actualize(o.ownerDocument||r)),o.appendChild(N),S(N))}N=b,T=f}for(;T;)f=T.nextSibling,(u=E(T))?w(u):O(T,o,!0),T=f}var P=c[o.nodeName];P&&P(o,s)}}!function e(t){if(t.nodeType===d)for(var n=t.firstChild;n;){var o=E(n);o&&(x[o]=n),e(n),n=n.nextSibling}}(t);var R,P,j=t,V=j.nodeType,D=n.nodeType;if(!_)if(V===d)D===d?a(t,n)||(M(t),j=function(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}(t,(R=n.nodeName,(P=n.namespaceURI)&&P!==s?r.createElementNS(P,R):r.createElement(R)))):j=n;else if(V===m||V===h){if(D===V)return j.nodeValue!==n.nodeValue&&(j.nodeValue=n.nodeValue),j;j=n}if(j===n)M(t);else if(L(j,n,_),v)for(var I=0,H=v.length;I<H;I++){var U=x[v[I]];U&&O(U,U.parentNode,!1)}return!_&&j!==t&&t.parentNode&&(j.actualize&&(j=j.actualize(t.ownerDocument||r)),t.parentNode.replaceChild(j,t)),j}}(function(e,t){var n,o,s,r,i,a=t.attributes;for(n=a.length-1;n>=0;--n)s=(o=a[n]).name,r=o.namespaceURI,i=o.value,r?(s=o.localName||s,e.getAttributeNS(r,s)!==i&&e.setAttributeNS(r,s,i)):e.getAttribute(s)!==i&&e.setAttribute(s,i);for(n=(a=e.attributes).length-1;n>=0;--n)!1!==(o=a[n]).specified&&(s=o.name,(r=o.namespaceURI)?(s=o.localName||s,u(t,r,s)||e.removeAttributeNS(r,s)):u(t,null,s)||e.removeAttribute(s))});e.exports=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),s=n(11),r=n(1);class i{constructor(e){this.elements={},this.hasRender=!0,this.isMounted=!1,this.__neweb_component=!0,this.subscriptions=[],this.props=e||{},this.props.document?this.documentValue=this.props.document:i.document&&(this.documentValue=i.document)}static setDocument(e){i.document=e}get document(){if(!this.documentValue)throw new Error("Document should be setted");return this.documentValue}setDocument(e){this.documentValue=e}mount(e){if(this.isMounted)throw new Error("Component already inited");this.isMounted=!0,e&&this.saveMountElement(e),this.beforeMount();const t=this.props.template?this.props.template:this.getTemplate();t?this.setRootElementByTemplate(t):this.rootElement||(this.rootElement=this.render()),this.afterMount(),this.getRootElement().onUpdateElement=(e=>{this.rootElement=e})}dispose(){this.subscriptions.map(e=>e.unsubscribe),Object.keys(this.elements).map(e=>this.elements[e].dispose())}getElements(){return this.elements}getRootElement(){return this.rootElement}saveMountElement(e){this.tagName=e.tagName,this.children=r.nodesToMap(e.childNodes),this.mountAttributes=r.getElementAttributes(e)}getTemplate(){}setRootElementByTemplate(e){this.rootElement=this.createElementfromTemplate(e)}addElement(e,t){if(this.elements[e])throw new Error("Element with name "+e+" already existing");this.elements[e]=t}render(){const e=this.document.createElement(this.tagName?this.tagName:"div");return this.children&&this.children.map(t=>e.appendChild(t)),this.mountAttributes&&Object.keys(this.mountAttributes).map(t=>{e.setAttribute(t,this.mountAttributes[t])}),e}beforeMount(){}afterMount(){}beforeDispose(){}afterDispose(){}createElementfromTemplate(e){return s.fromString(this.document,e,this.getElements())}update(){o(this.rootElement,this.render())}subscribe(e,t){r.isObservable(e)?this.subscriptions.push(e.subscribe(t)):t(e)}}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2);t.render=function(e,t){e.mount(),t.appendChild(e.getRootElement())},t.replace=function(e,t){t.innerHTML="",e.mount(),t.appendChild(e.getRootElement())},t.hydrate=function(e,t){e.mount();const n=t.childNodes[0];o(n,e.getRootElement(),{onBeforeElUpdated:(e,t)=>(t._events&&t._events.map(t=>{e.addEventListener(t.eventName,t.listener,t.bubbles)}),t.onUpdateElement&&t.onUpdateElement(e),!1)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),s=n(0);t.default=class extends s.default{constructor(e){super(e)}getRootElement(){return super.getRootElement()}afterMount(){super.afterMount();const e=()=>{o.isObservable(this.props.value)&&this.props.value.next(this.rootElement.value)};this.document.addEventListener(this.rootElement,"change",e,!1),this.document.addEventListener(this.rootElement,"input",e,!1),this.subscribe(this.props.value,e=>{e!==this.rootElement.value&&(this.rootElement.value=e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);t.default=class extends o.default{constructor(e){super(e),this.props=e,this.setComponent=(e=>{const t=this.getRootElement();this.currentComponent&&(t.innerHTML="",this.currentComponent.dispose()),e.setDocument(this.document),e.mount(),t.appendChild(e.getRootElement()),this.currentComponent=e})}afterMount(){this.subscribe(this.props.component,this.setComponent)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),s=n(0);t.default=class extends s.default{constructor(e){super(e),this.props=e,this.tagName="ul"}mount(e){e&&this.saveMountElement(e);const t=this.children?this.children.filter(e=>1===e.nodeType):[];if(this.childNode=1===t.length?t[0]:void 0,this.props.renderItem)this.renderItem=this.props.renderItem;else if(1===t.length){const e=t[0];this.renderItem=(t=>{const n=this.document.createElement(e.tagName);return e.getAttribute("class")&&n.setAttribute("class",e.getAttribute("class")),e.getAttribute("style")&&n.setAttribute("style",e.getAttribute("style")),n.innerHTML=t,n})}o.isObservable(this.props.items)?this.props.items.subscribe(e=>{const t=this.items;this.items=e,t&&this.update()}):this.items=this.props.items,super.mount()}afterMount(){const e=this.getRootElement();this.props.class&&(e.className=this.props.class)}clone(){const e=document.createElement(this.rootElement.tagName);for(let t=0;t<this.rootElement.attributes.length;t++)e.setAttribute(this.rootElement.attributes[t].name,this.rootElement.attributes[t].value);return e}render(){const e=this.rootElement?this.clone():this.document.createElement(this.tagName);return this.items.map((t,n)=>{const s=this.renderItem(t,n);if(o.isComponent(s)){if(s.setDocument(this.document),s.mount(this.childNode),this.childNode){const e=this.childNode.getAttribute("class");e&&s.getRootElement().setAttribute("class",e);const t=this.childNode.getAttribute("style");t&&s.getRootElement().setAttribute("style",t)}e.appendChild(s.getRootElement())}else"string"==typeof s?e.appendChild(this.createElementfromTemplate(s)):e.appendChild(s)}),e}renderItem(e,t){const n=this.document.createElement("li");return n.innerHTML=e,n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);class s extends o.default{constructor(e){super(e),this.props=e,this.tagName="a"}afterMount(){super.afterMount(),this.subscribe(this.props.url,e=>{this.url=e,"a"===this.rootElement.tagName.toLowerCase()&&this.rootElement.setAttribute("href",this.url)}),this.document.addEventListener(this.rootElement,"click",e=>{e.preventDefault(),this.document.navigate(this.url,!!this.props.replace)},!1)}}t.Link=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(3);t.default=class extends o.default{beforeMount(){this.rootElement=this.document.createTextNode(""),this.subscribe(this.props.value,e=>this.rootElement.nodeValue=e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.config=e,this.document=this.config.window.document}createElement(e,t){return this.document.createElement(e,t)}createTextNode(e){return this.document.createTextNode(e)}addEventListener(e,t,n,o){e._events=e._events||[],e._events.push({eventName:t,listener:n,bubbles:o}),e.addEventListener(t,n,o)}navigate(e,t=!1){t?this.config.window.history.replaceState(e,"",e):this.config.window.history.pushState(e,"",e)}}},function(e,t,n){"use strict";function o(e,t){t.mount(e);const n=t.getRootElement(),o=e.getAttribute("class");o&&n.setAttribute("class",o);const s=e.getAttribute("style");s&&n.setAttribute("style",s);const r=e.parentElement;r.appendChild(n),r.insertBefore(n,e),r.removeChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromString=function(e,t,n){const s=e.createElement("div");s.innerHTML=t;const r=s.querySelectorAll("[name]");for(const e of r){const t=e.getAttribute("name"),s=n[t];if(!s)throw new Error("Not found property with name "+t);o(e,s)}const i=s.querySelectorAll('[type="neweb-link"]');for(const t of i)t.removeAttribute("type"),e.addEventListener(t,"click",e=>{e.preventDefault();const t=e.target,n=t.getAttribute("href");t&&n&&(e.preventDefault(),history.pushState(n,"",n))},!1);return 1===s.childNodes.length?s.childNodes[0]:s},t.replaceElementToComponent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.Component=o.default;var s=n(10);t.Document=s.default;var r=n(9);t.Text=r.default;var i=n(8);t.Link=i.default;var u=n(7);t.List=u.default;var a=n(6);t.DynamicComponent=a.default;var l=n(0);t.ElementComponent=l.default;var c=n(5);t.InputComponent=c.default,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(12);window.neweb=o}]);